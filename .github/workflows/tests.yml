name: CI Pipeline

on: [push]

branches: [dev]

jobs:
    test:
        name: Unit Testing
        runs-on: ubuntu-latest
        steps:
            - name: Checkout Repository
            - uses: actions/checkout@v3

            - name: Install Node.js
            - uses: actions/setup-node@v3
                with:
                    node-version-file: '.nvmrc'

            - name: Install Dependencies
            - run: npm install

            - name: Run Lint
            - run: npm run lint 

            - name: Jest Testsuite
            - run: npm test
        



            # - # login to Docker Hub using the secrets provided
            #   name: Login to Docker Hub
            #   uses: docker/login-action@v2
            #   with:
            #       username: ${{secrets.DOCKERHUB_USERNAME}}
            #       password: ${{secrets.DOCKERHUB_ACCESSTOKEN}}
            # - # create a build kit builder instance
            #   name: Set up Docker Buildx
            #   uses: docker/setup-buildx-action@v2
            # - # build the container and push to Dockerhub
            #   name: Build and push
            #   uses: docker/build-push-action@v4
            #   with:
            #       context: ./Dockerfile
            #       push: true
            #       tags: $/youmee-admin:latest
