name: Deploy to AWS

on:
    push:
        branches: [main]

jobs:
    docker-build:
        runs-on: ubuntu-latest
        environment: production
        steps:
            - uses: actions/checkout@v3
            # This is the a separate action that sets up buildx runner
            - name: Login to Docker Hub
              uses: docker/login-action@v3
              with:
                  username: ${{secrets.DOCKERHUB_USERNAME}}
                  password: ${{secrets.DOCKERHUB_ACCESSTOKEN}}
